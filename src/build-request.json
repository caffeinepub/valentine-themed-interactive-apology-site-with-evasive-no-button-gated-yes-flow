{
  "kind": "build_request",
  "title": "Valentine-themed interactive apology site with evasive No button, gated Yes flow, music, photo modal, apology letter, and celebration effects",
  "priority": "normal",
  "requirements": [
    {
      "id": "REQ-1",
      "text": "Create a single-page Valentine-themed landing experience with a soft, dreamy, Disney-fairytale-inspired (but clean/elegant) visual style using blush pink/soft red/peach gradients, warm glow highlights, subtle white accents, rounded elegant typography, and an animated background (soft animated gradient and/or subtle floating light particles). Ensure the styling is consistent across all screens and responsive without harsh colors, dark theme, or heavy fonts.",
      "target": "frontend",
      "source": {
        "messageIds": [
          "msg-1"
        ],
        "quotes": [
          "Build a fully working, emotionally powerful, Valentine-themed interactive apology website from Akash to Fili.",
          "Soft, dreamy, Valentine romantic, slightly Disney-fairytale inspired.",
          "Color palette: â€¢ Blush pink â€¢ Soft red â€¢ Peach gradients â€¢ Warm glowing highlights â€¢ Subtle white accents",
          "Background: Soft animated gradient OR subtle floating light particles.",
          "Use elegant, rounded typography."
        ]
      },
      "acceptanceCriteria": [
        "Landing page uses a cohesive palette (blush pink/soft red/peach) with soft glow highlights and subtle accents",
        "Background has a gentle animated effect (gradient and/or particles) without distracting or harsh motion",
        "Typography is rounded/elegant and readable on mobile/tablet/desktop",
        "No dark theme styling is introduced anywhere"
      ]
    },
    {
      "id": "REQ-2",
      "text": "Implement the landing screen with the centered heading text exactly: â€œFili, will you be my Valentine? ğŸ’–â€ and two rounded romantic buttons labeled exactly: â€œYes ğŸ’•â€ and â€œNo ğŸ˜¢â€. Add soft glow, smooth hover animation, rounded corners, and slight scale effect on hover for both buttons.",
      "target": "frontend",
      "source": {
        "messageIds": [
          "msg-1"
        ],
        "quotes": [
          "Centered heading: â€œFili, will you be my Valentine? ğŸ’–â€",
          "Two rounded romantic buttons: â€¢ Yes ğŸ’• â€¢ No ğŸ˜¢",
          "Buttons must: â€¢ Have soft glow â€¢ Smooth hover animation â€¢ Rounded corners â€¢ Slight scale effect on hover"
        ]
      },
      "acceptanceCriteria": [
        "Heading and button labels match exactly (including emojis)",
        "Buttons have visible glow and animate smoothly on hover/tap (scale + transition)",
        "Layout is centered and remains visually balanced across screen sizes"
      ]
    },
    {
      "id": "REQ-3",
      "text": "Implement strict â€œNo ğŸ˜¢â€ button behavior: it starts visible and on every click moves to a random position while ALWAYS remaining fully inside the viewport and ALWAYS clickable (never partially off-screen, never unreachable) across desktop/mobile/tablet. Compute the random position using the provided formula with button dimensions and a configurable margin: maxX = window.innerWidth - buttonWidth - margin; maxY = window.innerHeight - buttonHeight - margin; random X/Y in [0,maxX] and [0,maxY]. Update positioning correctly on viewport resize/orientation changes to prevent overflow bugs.",
      "target": "frontend",
      "source": {
        "messageIds": [
          "msg-1"
        ],
        "quotes": [
          "ğŸš¨ NO BUTTON BEHAVIOR (VERY STRICT)",
          "The â€œNoâ€ button must: â€¢ Start visible â€¢ Move to a random position on every click â€¢ NEVER leave the visible screen â€¢ NEVER become unreachable â€¢ NEVER render partially outside the viewport â€¢ ALWAYS remain clickable",
          "Calculate new position using: maxX = window.innerWidth - buttonWidth - margin maxY = window.innerHeight - buttonHeight - margin Random position must be between 0 and maxX / maxY. This must work on: â€¢ Desktop â€¢ Mobile â€¢ Tablets No overflow bugs allowed."
        ]
      },
      "acceptanceCriteria": [
        "On each click (until the 7th), the No button relocates to a new random position",
        "The No button is always fully visible within the viewport bounds (no clipping)",
        "The No button remains clickable at all times and cannot be moved outside the visible screen on any tested viewport size",
        "Position calculations use actual rendered button dimensions and the maxX/maxY formula with margin"
      ]
    },
    {
      "id": "REQ-4",
      "text": "Show exactly 7 sequential popup messages triggered by No button clicks. Each popup must appear top-center, with rounded corners, soft pink background, soft shadow, and auto-dismiss after 1.5 seconds. Popups must not stack permanently. Use this exact sequence (one per click): 1) â€œAre you sure? ğŸ¥ºâ€ 2) â€œReally sure? ğŸ’”â€ 3) â€œPlease donâ€™t say no ğŸ˜¢â€ 4) â€œIâ€™ll bring chocolates ğŸ«â€ 5) â€œIâ€™ll send teddy hugs ğŸ§¸â€ 6) â€œCats and butterflies for you ğŸ±ğŸ¦‹â€ 7) â€œOkay fineâ€¦ last chance ğŸ’–â€.",
      "target": "frontend",
      "source": {
        "messageIds": [
          "msg-1"
        ],
        "quotes": [
          "ğŸ’¬ EXACTLY 7 NO BUTTON POPUPS",
          "Popups must: â€¢ Appear top-center â€¢ Rounded â€¢ Soft pink background â€¢ Soft shadow â€¢ Auto disappear after 1.5 seconds â€¢ Not stack permanently",
          "Popup text sequence: â€œAre you sure? ğŸ¥ºâ€ â€œReally sure? ğŸ’”â€ â€œPlease donâ€™t say no ğŸ˜¢â€ â€œIâ€™ll bring chocolates ğŸ«â€ â€œIâ€™ll send teddy hugs ğŸ§¸â€ â€œCats and butterflies for you ğŸ±ğŸ¦‹â€ â€œOkay fineâ€¦ last chance ğŸ’–â€"
        ]
      },
      "acceptanceCriteria": [
        "Exactly 7 messages are shown in order across successive No clicks",
        "Each popup appears at the top-center and auto-dismisses after ~1500ms",
        "At most one popup is visible at a time (no permanent stacking)",
        "Popup styling matches: rounded, soft pink, soft shadow"
      ]
    },
    {
      "id": "REQ-5",
      "text": "After the 7th No click: stop moving the No button. Implement â€œYes ğŸ’•â€ button gating: it must be initially hidden or visually small, and only become fully visible after the 7th No click with a smooth fade-in animation and slight glow effect.",
      "target": "frontend",
      "source": {
        "messageIds": [
          "msg-1"
        ],
        "quotes": [
          "After the 7th click: â€¢ Stop moving the No button â€¢ Reveal the Yes button if hidden",
          "ğŸ’– YES BUTTON BEHAVIOR â€¢ Initially hidden OR visually small â€¢ Only fully visible after 7 No clicks â€¢ Smooth fade-in animation â€¢ Slight glow effect"
        ]
      },
      "acceptanceCriteria": [
        "Before 7 No clicks, the Yes button is not fully visible (hidden or clearly minimized)",
        "On the 7th No click, the Yes button transitions to fully visible via a smooth fade-in",
        "After the 7th No click, the No button no longer changes position"
      ]
    },
    {
      "id": "REQ-6",
      "text": "On â€œYes ğŸ’•â€ click, start playing a local audio file named forever.mp3. Audio must NOT autoplay on page load and must ONLY start after the Yes click user gesture. Set volume to a moderate level (not maximum). If play() fails due to autoplay policy or other errors, handle the error silently (no user-visible error state; no console noise). Music should continue playing in the background after starting.",
      "target": "frontend",
      "source": {
        "messageIds": [
          "msg-1"
        ],
        "quotes": [
          "ğŸµ MUSIC INTEGRATION (VERY IMPORTANT)",
          "A local audio file will be uploaded named: forever.mp3",
          "â€¢ Audio must NOT autoplay on page load â€¢ Audio must ONLY start playing after Fili clicks Yes â€¢ Must comply with browser autoplay policy â€¢ Use user interaction to trigger play() â€¢ If autoplay fails, handle error silently â€¢ Music should continue playing in background â€¢ Do not loop aggressively unless specified â€¢ Volume moderate (not max)"
        ]
      },
      "acceptanceCriteria": [
        "No audio plays before any user interaction",
        "Clicking Yes triggers audio playback attempt via a user gesture",
        "Audio volume is set below 1.0 (moderate)",
        "If playback fails, the UI continues without disruption and without console errors"
      ]
    },
    {
      "id": "REQ-7",
      "text": "On â€œYes ğŸ’•â€ click, automatically open a centered romantic photo modal using the uploaded image file IMG_20221213_093702.jpg. The modal must have rounded corners, soft shadow, a slight scale-in animation, a soft blurred backdrop, smooth transitions, and be mobile-safe. The image must scale proportionally (no stretching), never overflow the viewport, and remain fully viewable on small screens.",
      "target": "frontend",
      "source": {
        "messageIds": [
          "msg-1",
          "msg-3"
        ],
        "quotes": [
          "A romantic photo will be uploaded.",
          "â€¢ Display the uploaded image in a centered modal",
          "Modal must: Have rounded corners Soft shadow Slight scale-in animation Soft background blur behind it Smooth transition",
          "Must work on mobile â€¢ Image must scale proportionally â€¢ No overflow â€¢ No stretching",
          "User: yes"
        ]
      },
      "acceptanceCriteria": [
        "After clicking Yes, the modal opens automatically with a smooth scale-in + fade transition",
        "Backdrop behind the modal is blurred/dimmed softly",
        "The image remains proportional and fully contained within the viewport (no overflow) on mobile/tablet/desktop",
        "Modal container has rounded corners and soft shadow"
      ]
    },
    {
      "id": "REQ-8",
      "text": "On â€œYes ğŸ’•â€ click, display the following apology message text exactly (including punctuation and emoji), styled beautifully with soft romantic typography, centered layout, high readability, and a smooth fade-in:\n\nFiliâ€¦\n\nIâ€™m truly sorry.\nSorry for being rude, for raising my voice, for the harsh words I used.\nIâ€™m sorry for every single thing that hurt you.\nIâ€™m honestly ashamed of my behavior, and you didnâ€™t deserve any of it.\n\nBut please believe me when I say this â€”\nthe time I spent with you has been one of the most beautiful chapters of my life.\nEvery moment with you meant more to me than I could ever express.\n\nYou are, without a doubt, one of the most beautiful girls in this world â€”\nnot just by looks, but by heart, by soul,\nby the way you make everything brighter. âœ¨\n\nPlease donâ€™t ever blame yourself.\nNone of this was your fault.\nIf there was a mistake, it was mine.\n\nWith love,\nAkash ğŸ¤",
      "target": "frontend",
      "source": {
        "messageIds": [
          "msg-1"
        ],
        "quotes": [
          "ğŸ’Œ FINAL APOLOGY MESSAGE (PERSONALIZED)\n\nDisplay this message exactly, styled beautifully:\n\nFiliâ€¦\n\nIâ€™m truly sorry.\nSorry for being rude, for raising my voice, for the harsh words I used.\nIâ€™m sorry for every single thing that hurt you.\nIâ€™m honestly ashamed of my behavior, and you didnâ€™t deserve any of it.\n\nBut please believe me when I say this â€”\nthe time I spent with you has been one of the most beautiful chapters of my life.\nEvery moment with you meant more to me than I could ever express.\n\nYou are, without a doubt, one of the most beautiful girls in this world â€”\nnot just by looks, but by heart, by soul,\nby the way you make everything brighter. âœ¨\n\nPlease donâ€™t ever blame yourself.\nNone of this was your fault.\nIf there was a mistake, it was mine.\n\nWith love,\nAkash ğŸ¤",
          "The text must: â€¢ Fade in smoothly â€¢ Be centered â€¢ Be readable â€¢ Have soft romantic styling"
        ]
      },
      "acceptanceCriteria": [
        "Message text matches exactly, including line breaks, punctuation, and emojis",
        "Message is centered and readable on small screens (appropriate max-width and responsive font sizing)",
        "Message fades in smoothly after clicking Yes"
      ]
    },
    {
      "id": "REQ-9",
      "text": "After â€œYes ğŸ’•â€ click, trigger decorative celebration effects: floating ğŸ’– hearts, ğŸ¦‹ butterflies, ğŸ± cats, ğŸ« chocolates, ğŸ§¸ teddy bears, âœ¨ sparkles, and ğŸŒ¹ roses. Decorations must spawn gradually (not all at once), float upward, fade out smoothly, and be removed from the DOM after the animation to avoid memory leaks and performance degradation.",
      "target": "frontend",
      "source": {
        "messageIds": [
          "msg-1"
        ],
        "quotes": [
          "âœ¨ DECORATIVE CELEBRATION EFFECT",
          "After Yes click: Trigger floating decorations: â€¢ ğŸ’– Hearts â€¢ ğŸ¦‹ Butterflies â€¢ ğŸ± Cats â€¢ ğŸ« Chocolates â€¢ ğŸ§¸ Teddy bears â€¢ âœ¨ Sparkles â€¢ ğŸŒ¹ Roses",
          "Rules: â€¢ Spawn gradually (not all at once) â€¢ Float upward â€¢ Fade out smoothly â€¢ Automatically remove from DOM after animation â€¢ No memory leaks â€¢ No performance lag"
        ]
      },
      "acceptanceCriteria": [
        "Multiple decoration types (all listed) appear after Yes click",
        "Elements spawn over time rather than simultaneously",
        "Each element animates upward and fades out",
        "Elements are removed from the DOM after their animation completes (no unbounded DOM growth)",
        "Animation remains smooth on typical mobile devices"
      ]
    },
    {
      "id": "REQ-10",
      "text": "Ensure production-ready responsiveness and quality: no unwanted scrollbars (unless absolutely necessary), buttons remain visible, the No button logic remains safe within viewport constraints, proper z-index layering for popups/modal/decorations, and no console errors. Avoid duplicate event listeners, infinite loops, unused variables, and memory leaks. Include clear code organization and commented sections for major UI states/animations.",
      "target": "frontend",
      "source": {
        "messageIds": [
          "msg-1"
        ],
        "quotes": [
          "ğŸ“± RESPONSIVE REQUIREMENTS Must work perfectly on: â€¢ Mobile phones â€¢ Tablets â€¢ Desktop No scrollbars unless absolutely necessary. Buttons must always stay visible. Text must remain readable on small screens.",
          "ğŸ§  CODE QUALITY REQUIREMENTS â€¢ Clean, readable structure â€¢ Commented sections â€¢ No unused variables â€¢ No console errors â€¢ No duplicate event listeners â€¢ Proper z-index layering â€¢ Proper event handling â€¢ No infinite loops â€¢ No memory leaks",
          "ğŸ§ª FINAL TEST CHECKLIST ..."
        ]
      },
      "acceptanceCriteria": [
        "App is usable on mobile/tablet/desktop with no layout-breaking overflow",
        "No console errors during typical interactions (No clicks, Yes click, modal open/close, decorations running)",
        "Popups, modal, and decorations layer correctly (no visual fighting)",
        "No button is always visible and reachable within the viewport until the 7th click"
      ]
    }
  ],
  "constraints": [
    "Frontend must use React + TypeScript with Tailwind CSS and compose existing UI components without modifying any files under frontend/src/components/ui (read-only).",
    "Do not edit immutable paths listed by the platform (e.g., frontend/src/main.tsx and identity/actor hooks). Compose around them instead.",
    "Backend is single-actor Motoko; only add backend changes if absolutely necessary for this purely front-end interactive experience.",
    "All user-facing text must be in English."
  ],
  "nonGoals": [
    "Implementing user accounts, Internet Identity sign-in, or any authentication flow",
    "Persisting state on the backend or storing user responses in a database",
    "Integrating third-party services/APIs (analytics, social logins, maps, external audio/image hosting)",
    "Adding real-time features (WebSockets/chat)"
  ],
  "imageRequirements": {
    "required": [],
    "edits": []
  },
  "userProfileUpdate": {
    "goalsToAdd": [],
    "goalsToRemove": [],
    "preferencesToAdd": [],
    "preferencesToRemove": [],
    "miscToAdd": [],
    "miscToRemove": [],
    "fieldsToSet": {},
    "fieldsToDelete": []
  }
}